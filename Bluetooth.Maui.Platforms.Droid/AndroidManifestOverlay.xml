<?xml
  version="1.0"
  encoding="utf-8"?>

<manifest
  xmlns:android="http://schemas.android.com/apk/res/android">
  <!-- Bluetooth Classic permissions (API < 31) -->
  <uses-permission
    android:name="android.permission.BLUETOOTH"
    android:maxSdkVersion="30" />
  <uses-permission
    android:name="android.permission.BLUETOOTH_ADMIN"
    android:maxSdkVersion="30" />

  <!-- Bluetooth permissions for API 31+ (Android 12+) -->
  <uses-permission
    android:name="android.permission.BLUETOOTH_SCAN"
    android:usesPermissionFlags="neverForLocation" />
  <uses-permission
    android:name="android.permission.BLUETOOTH_CONNECT" />
  <uses-permission
    android:name="android.permission.BLUETOOTH_ADVERTISE" />

  <!-- Location permissions (required for Bluetooth scanning on API < 31) -->
  <uses-permission
    android:name="android.permission.ACCESS_FINE_LOCATION" />
  <uses-permission
    android:name="android.permission.ACCESS_COARSE_LOCATION" />
</manifest>